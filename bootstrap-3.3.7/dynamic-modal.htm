<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/favicon.ico">

    <title>Dashboard Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="dist/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="dist/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="dist/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <button onclick="openModal()">Open Modal</button>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="dist/js/jquery.min.js"></script>

    <script src="dist/js/bootstrap.min.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="dist/js/ie10-viewport-bug-workaround.js"></script>

    <script>
        var BstrapModal = function (title, body, buttons) {
            var title = title || "Lorem Ipsum History";
            var body = body ||
                "Lorem Ipsum is simply dummy text of the printing and typesetting industry.  Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,  when an unknown printer took a galley of type and scrambled it to make a type specimen book.  It has survived not only five centuries, but also the leap into electronic typesetting,  remaining essentially unchanged.";
            var buttons = buttons || [{
                Value: "CLOSE",
                Css: "btn-primary",
                Callback: function (event) {
                    BstrapModal.Close();
                }
            }];
            var GetModalStructure = function () {
                var that = this;
                that.Id = BstrapModal.Id = Math.random();
                var buttonshtml = "";
                for (var i = 0; i < buttons.length; i++) {
                    buttonshtml += "<button type='button' class='btn " + (buttons[i].Css || "") + "' name='btn" +
                        that.Id + "'>" + (buttons[i].Value || "CLOSE") + "</button>";
                }
                return "<div class='modal fade' name='dynamiccustommodal' id='" + that.Id +
                    "' tabindex='-1' role='dialog'   data-backdrop='static' data-keyboard='false' aria-labelledby='" +
                    that.Id +
                    "Label'><div class='modal-dialog'> <div class='modal-content'><div class='modal-header'> <button type='button' class='close modal-white-close'   onclick='BstrapModal.Close()'><span aria-hidden='true'>&times; </span></button><h4 class='modal-title'>" +
                    title +
                    "</h4></div><div class='modal-body'> <div class='row'><div class='col-xs-12 col-sm-12 col-md-12  col-lg-12'>" +
                    body +
                    "</div></div></div><div class='modal-footer bg-default'> <div class='col-xs-12 col-sm-12 col-md-12 col-lg-12'>" +
                    buttonshtml + "</div></div></div></div></div>";
            }();
            BstrapModal.Delete = function () {
                var modals = document.getElementsByName("dynamiccustommodal");
                if (modals.length > 0) {
                    document.body.removeChild(modals[0]);
                }
            };
            BstrapModal.Close = function () {
                $(document.getElementById(BstrapModal.Id)).modal('hide');
                BstrapModal.Delete();
            };
            BstrapModal.Save = function () {
                console.log("Hello world")
                $(document.getElementById(BstrapModal.Id)).modal('hide');
                BstrapModal.Delete();

            };
            this.Show = function () {
                BstrapModal.Delete();
                document.body.appendChild($(GetModalStructure)[0]);
                var btns = document.querySelectorAll("button[name='btn" + BstrapModal.Id + "']");
                for (var i = 0; i < btns.length; i++) {
                    btns[i].addEventListener("click", buttons[i].Callback || BstrapModal.Close);
                }
                $(document.getElementById(BstrapModal.Id)).modal('show');
            };
        };


        // function BstrapModal(title, body, buttons) {
        //     this.title = title || "Lorem Ipsum History";
        //     this.body = body ||
        //         "Lorem Ipsum is simply dummy text of the printing and typesetting industry.  Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,  when an unknown printer took a galley of type and scrambled it to make a type specimen book.  It has survived not only five centuries, but also the leap into electronic typesetting,  remaining essentially unchanged.";
        //     this.buttons = buttons || [{
        //         Value: "CLOSE",
        //         Css: "btn-primary",
        //         Callback: function (event) {
        //             this.Close();
        //         }
        //     }];
        //     this.Id = "";
        //     this.GetModalStructure = function () {
        //         var that = this;
        //         that.Id = this.Id = Math.random();
        //         var buttonshtml = "";
        //         for (var i = 0; i < buttons.length; i++) {
        //             buttonshtml += "<button type='button' class='btn " + (buttons[i].Css || "") + "' name='btn" +
        //                 that.Id + "'>" + (buttons[i].Value || "CLOSE") + "</button>";
        //         }
        //         return "<div class='modal fade' name='dynamiccustommodal' id='" + that.Id +
        //             "' tabindex='-1' role='dialog'   data-backdrop='static' data-keyboard='false' aria-labelledby='" +
        //             that.Id +
        //             "Label'><div class='modal-dialog'> <div class='modal-content'><div class='modal-header'> <button type='button' class='close modal-white-close'   onclick='this.Close()'><span aria-hidden='true'>&times; </span></button><h4 class='modal-title'>" +
        //             title +
        //             "</h4></div><div class='modal-body'> <div class='row'><div class='col-xs-12 col-sm-12 col-md-12  col-lg-12'>" +
        //             body +
        //             "</div></div></div><div class='modal-footer bg-default'> <div class='col-xs-12 col-sm-12 col-md-12 col-lg-12'>" +
        //             buttonshtml + "</div></div></div></div></div>";
        //     }();
        //     this.Delete = function () {
        //         var modals = document.getElementsByName("dynamiccustommodal");
        //         if (modals.length > 0) {
        //             document.body.removeChild(modals[0]);
        //         }
        //     };
        //     this.Close = function () {
        //         $(document.getElementById(this.Id)).modal('hide');
        //         this.Delete();
        //     };
        //     this.Show = function () {
        //         this.Delete();
        //         document.body.appendChild($(this.GetModalStructure)[0]);
        //         var btns = document.querySelectorAll("button[name='btn" + this.Id + "']");
        //         for (var i = 0; i < btns.length; i++) {
        //             btns[i].addEventListener("click", buttons[i].Callback || this.Close);
        //         }
        //         $(document.getElementById(this.Id)).modal('show');
        //     };
        // };
        function openModal(params) {
            var title = "Hello modal";
            var body = '<div class="row">' +
                '<div class="col-md-8">.col-md-8</div>' +
                '<div class="col-md-4">.col-md-4</div>' +
                '</div>' +
                '<div class="row">' +
                '<div class="col-md-4">.col-md-4</div>' +
                '<div class="col-md-4">.col-md-4</div>' +
                '<div class="col-md-4">.col-md-4</div>' +
                '</div>' +
                '<div class="row">' +
                '<div class="col-md-6">.col-md-6</div>' +
                '<div class="col-md-6">.col-md-6</div>' +
                '</div>';
            var buttons = [{
                    Value: "CLOSE",
                    Css: "btn-primary",
                    Callback: function (event) {
                        BstrapModal.Close();
                    }
                },
                {
                    Value: "Save",
                    Css: "btn-success",
                    Callback: function (event) {
                        BstrapModal.Save();
                    }
                }
            ];




            var mainModal = new BstrapModal(title, body, buttons);
            mainModal.Show();
            // BstrapModal.prototype.Save = function () {
            //     alert(' has left the building. Bye for now!');
            // };
            // mainModal.Save = function (params) {
            //     console.log("hello world");
            // }
            // mainModal();

        }
    </script>
</body>

</html>